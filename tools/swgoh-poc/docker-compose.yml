services:
  # SWGoH Comlink API - provides access to game data
  swgoh-comlink:
    image: ghcr.io/swgoh-utils/swgoh-comlink:latest
    container_name: swgoh-comlink-poc
    ports:
      - "5000:3000"
    environment:
      - ACCESS_KEY=
      - SECRET_KEY=
      - APP_NAME=swgoh-tb-tracker-poc
      - PORT=3000
      - TZ=America/Chicago
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /etc/timezone:/etc/timezone:ro
    restart: unless-stopped
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:3000/api/health || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s

  # SWGoH Asset Extractor - downloads game assets
  swgoh-ae2:
    image: ghcr.io/swgoh-utils/swgoh-ae2:latest
    container_name: swgoh-ae2-poc
    ports:
      - "3123:8080"
    volumes:
      - ./assets:/app/assets
      - ./downloads:/app/downloads
    restart: unless-stopped

